<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modem ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ“± Modem ç®¡ç†</h1>
            <select id="modemSelect" onchange="app.loadModemRelatedInfo()">
                <option value="">-- é€‰æ‹©ä¸²å£ --</option>
            </select>
            <button id="refreshBtn" onclick="app.refreshModems()">åˆ·æ–°</button>
        </header>

        <main>
            <!-- Modem ä¿¡æ¯ -->
            <section class="card">
                <div class="card-header">
                    <h2>Modem ä¿¡æ¯</h2>
                    <div class="card-actions">
                        <button onclick="app.getModemInfo()">è·å–ä¿¡æ¯</button>
                        <button onclick="app.getSignalStrength()">ä¿¡å·å¼ºåº¦</button>
                    </div>
                </div>
                <div id="modemInfo">
                    <div class="info-item">
                        <span class="info-label">ä¸²å£:</span><span class="info-value">{info.name}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">åˆ¶é€ å•†:</span><span class="info-value">{info.manufacturer}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">å‹å·:</span><span class="info-value">{info.model}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">IMEI:</span><span class="info-value">{info.imei}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">æ‰‹æœºå·:</span><span class="info-value">{info.phone}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">è¿è¥å•†:</span><span class="info-value">{info.operator}</span>
                    </div>
                </div>
                <div id="signalInfo">
                    <div class="info-item">
                        <span class="info-label">ä¿¡å·å¼ºåº¦ (RSSI):</span><span class="info-value">{signal.rssi}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">è¯¯ç ç‡:</span><span class="info-value">{signal.ber}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">dBm:</span><span class="info-value">{signal.dbm}</span>
                    </div>
                </div>
            </section>

            <!-- æ¥æ”¶çŸ­ä¿¡ -->
            <section class="card">
                <div class="card-header">
                    <h2>æ¥æ”¶çŸ­ä¿¡</h2>
                    <div class="card-actions">
                        <button onclick="app.listSMS()">åˆ·æ–°çŸ­ä¿¡</button>
                    </div>
                </div>
                <div id="smsList" class="sms-list">
                    <div class="sms-item">
                        <div class="sms-header">
                            <span class="sms-number">ğŸ“± {sms.phoneNumber}</span>
                            <span class="sms-time">ğŸ• {sms.time}</span>
                            <button class="delete-btn" onclick="app.deleteSMS({sms.indices})">åˆ é™¤</button>
                        </div>
                        <div class="sms-message">{sms.text}</div>
                    </div>
                </div>
            </section>

            <!-- å‘é€çŸ­ä¿¡ -->
            <section class="card">
                <div class="card-header">
                    <h2>å‘é€çŸ­ä¿¡</h2>
                    <div class="card-actions">
                        <button onclick="app.sendSMS()">å‘é€çŸ­ä¿¡</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>æ”¶ä»¶äººå·ç :</label>
                    <input type="text" id="smsNumber" placeholder="+86XXXXXXXXXXX" />
                </div>
                <div class="form-group">
                    <label>çŸ­ä¿¡å†…å®¹:</label>
                    <textarea id="smsMessage" rows="4" placeholder="è¾“å…¥çŸ­ä¿¡å†…å®¹... "></textarea>
                </div>
            </section>

            <!-- AT å‘½ä»¤ -->
            <section class="card">
                <div class="card-header">
                    <h2>AT å‘½ä»¤ç»ˆç«¯</h2>
                    <div class="card-actions">
                        <button onclick="app.sendATCommand()">å‘é€æŒ‡ä»¤</button>
                    </div>
                </div>
                <div class="form-group">
                    <input type="text" id="atCommand" placeholder="è¾“å…¥ AT å‘½ä»¤ (ä¾‹å¦‚:  AT+CGMI)" />
                </div>
                <div class="terminal" id="terminal"></div>
            </section>

            <!-- å®æ—¶æ—¥å¿— -->
            <section class="card">
                <div class="card-header">
                    <h2>å®æ—¶æ—¥å¿—</h2>
                    <div class="card-actions">
                        <button onclick="app.clearLog()">æ¸…ç©ºæ—¥å¿—</button>
                    </div>
                </div>
                <div class="log" id="log"></div>
            </section>
        </main>
    </div>

    <script src="js/app.js"></script>
</body>

</html>